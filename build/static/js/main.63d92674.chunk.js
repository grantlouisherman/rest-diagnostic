(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(32)},21:function(e,t,a){},23:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),l=a.n(o),i=(a(21),a(1)),d=a.n(i),s=a(15),c=a(2),u=a(3),h=a(4),p=a(6),f=a(5),m=a(7),C=(a(23),function(e){return Object(n.useEffect)(function(){document.getElementById(e.data||"GET").selected=!0}),r.a.createElement("select",{id:"method"},r.a.createElement("option",{id:"GET"},"GET"),r.a.createElement("option",{id:"POST"},"POST"),r.a.createElement("option",{id:"PUT"},"PUT"))}),v=function(e){return r.a.createElement("div",{className:"fetchItem"},r.a.createElement("div",null,r.a.createElement("label",{for:"url"}," url "),r.a.createElement("input",{onChange:function(t){return e.addUrlPath(e.id,t.target.value)},id:"url",value:e.data.url?e.data.url:""})),r.a.createElement("div",null,r.a.createElement("label",{for:"headers"}," headers "),r.a.createElement("textarea",{value:JSON.stringify(e.data.headers)})),r.a.createElement("div",null,r.a.createElement("label",{for:"method"}," method "),r.a.createElement(C,{data:e.data.method})),r.a.createElement("div",null,r.a.createElement("label",{for:"body"}," body "),r.a.createElement("input",{onChange:function(t){return e.updateFetchBody(e.id,t.target.value)},id:"body",value:e.data.body?e.data.body:""})))},E=a(14),b=a.n(E),y=function(e){if(!Array.isArray(e))return e;var t={};return e.forEach(function(e){t=Object.assign({},t,e)}),t},A=function(){var e=Object(c.a)(d.a.mark(function e(t,a,n,r){var o,l,i,s,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="POST"===t?JSON.stringify({query:n}):null,l={method:t,mode:"cors",headers:a,body:o},e.next=4,fetch(r,l);case 4:return i=e.sent,e.next=7,i.json();case 7:return s=e.sent,c=y(s),e.abrupt("return",{status:i.status,responseBody:c});case 10:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),w=function(e){return{id:e,headers:{},url:"",body:"",method:"GET"}},g=function(e){return b()(e,1e3)},L=function(e){var t=[];return Object.keys(e).map(function(t){return e[t]}).forEach(function(e){var a=e.method,n=e.headers,r=e.body,o=e.url;t.push(A(a,n,r,o))}),Promise.all(t).then(function(e){return e}).catch(console.error)},S=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.apiCalls);return r.a.createElement("div",null,t?t.map(function(t){return r.a.createElement(v,{key:e.props.apiCalls[t].id,data:e.props.apiCalls[t],addUrlPath:g(e.props.addUrlPath),updateFetchBody:g(e.props.updateFetchBody),addHeader:g(e.props.addHeader)})}):null,r.a.createElement("button",{onClick:this.props.runCallDiagnostic},"Diagnose Calls"))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(f.a)(t).call(this,e))).addNewApiCall=function(){var e=a.state,t=e.API_CALLS,n=e.idCounter;t[n]=w(n);var r=n+1;a.setState({API_CALLS:t,idCounter:r})},a.addUrlPath=function(e,t){var n=a.state.API_CALLS;n[e].url=t,a.setState({API_CALLS:n})},a.updateFetchBody=function(e,t){var n=a.state.API_CALLS;n[e].body=t,a.setState({API_CALLS:n})},a.addHeader=function(e,t){var n=a.state.API_CALLS;console.log(e,t);var r=JSON.stringify(t);n[e].headers=r,a.setState({API_CALLS:n})},a.runCallDiagnostic=Object(c.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(a.state.API_CALLS);case 2:t=e.sent,a.setState({diagnosedCalls:Object(s.a)({},t),showDiagnosedCallsView:!0});case 4:case"end":return e.stop()}},e)})),a.handleFileLoad=function(e){var t=a.state.fileReader.result,n=JSON.parse(t),r=a.state.API_CALLS,o=a.state.idCounter;n.calls.forEach(function(e){e.id=o,r[o]=e,o++}),a.setState({API_CALLS:r,idCounter:o,uploadedFile:!0})},a.fileUpload=function(e){a.state.fileReader.onloadend=a.handleFileLoad,a.state.fileReader.readAsText(e.target.files[0])},a.showFileUpload=function(e){a.setState({showDiagnosedCallsView:!1,uploadedFile:!1,diagnosedCalls:{},API_CALLS:{}})},a.state={API_CALLS:{},idCounter:0,fileReader:new FileReader,uploadedFile:!1,diagnosedCalls:{},showDiagnosedCallsView:!1},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.showDiagnosedCallsView?r.a.createElement("div",null,r.a.createElement("textarea",{value:JSON.stringify(this.state.diagnosedCalls,void 0,4),cols:"50",rows:"25"}),r.a.createElement("button",{onClick:this.showFileUpload},"Reset")):r.a.createElement("div",null,this.state.uploadedFile?r.a.createElement(S,{apiCalls:this.state.API_CALLS,addNewApiCall:this.addNewApiCall,addUrlPath:this.addUrlPath,updateFetchBody:this.updateFetchBody,addHeader:this.addHeader,runCallDiagnostic:this.runCallDiagnostic}):r.a.createElement("input",{id:"the-file-input",type:"file",onChange:this.fileUpload}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.63d92674.chunk.js.map