(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(64)},37:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),o=a.n(c),i=a(7),s=(a(37),a(8)),l=a.n(s),u=a(24),d=a(13),m=a(14),p=a(25),f=a.n(p),h=function(e){if(!Array.isArray(e))return e;var t={};return e.forEach(function(e){t=Object.assign({},t,e)}),t},b=function(){var e=Object(d.a)(l.a.mark(function e(t,a,n,r,c){var o,i,s,u,d;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="POST"===t?JSON.stringify({query:n}):null,i={method:t,mode:"cors",headers:a,body:o},e.next=4,fetch(r,i);case 4:return s=e.sent,e.next=7,s.json();case 7:return u=e.sent,d=h(u),e.abrupt("return",{status:s.status,responseBody:d,callId:c});case 10:case"end":return e.stop()}},e)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),y=function(e,t,a){return{type:"UPDATE_DIAGNOSTIC_BODY",payload:{itemKey:e,value:t,objectKey:a}}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPLOAD_FILE":var a=function(e){return f.a.load(e)}(t.payload.result).calls,n={};return a.forEach(function(e,t){e.id=t,n[t]=e}),Object.assign({},e,n);case"UPDATE_DIAGNOSTIC_BODY":var r=t.payload,c=r.itemKey,o=r.value,i=r.objectKey,s=e[c];s[i]=o;var l=e;return l[c]=s,Object.assign({},e,l);case"DIAGNOSE_CALLS":var u=e;return Object.keys(t.payload).forEach(function(e){var a=u[e],n=t.payload[e],r=n.status;n.responseBody,a.status=r}),Object.assign({},e,u);case"ERROR":var d=t.payload,m=d.error,p=d.data;return Object.assign({},e,{error:m,data:p});default:return e}},v=function(e){return Object(n.useLayoutEffect)(function(){var t="method-".concat(e.index,"-").concat(e.method)||!1;document.querySelector("#".concat(t)).selected=!0},[e.method,e.index]),r.a.createElement("select",{id:"method",onChange:e.onChangeFetchBody,className:"ui selection dropdown"},r.a.createElement("option",{id:"method-".concat(e.index,"-GET")},"GET"),r.a.createElement("option",{id:"method-".concat(e.index,"-POST")},"POST"),r.a.createElement("option",{id:"method-".concat(e.index,"-PUT")},"PUT"))},O=function(e){var t=e.responseStaus;return 200===t?r.a.createElement("i",{className:"plus icon circle"}):500==t?r.a.createElement("i",{className:"exclamation circle icon"}):r.a.createElement("i",{className:"question circle icon"})},g=Object(i.b)(function(e){return{diagnosticItems:e.diagnostic}},{updateFetchBody:y})(function(e){var t=e.diagnosticItems[e.index],a=e.updateFetchBody,n=function(t){var n=t.target.id.split("-")[0];a(e.index,t.target.value,n)};return r.a.createElement("div",{className:"fetchItem for wide column"},r.a.createElement("div",{className:"space-internal"},r.a.createElement("label",{for:"url",className:"ui horizontal label"}," url "),r.a.createElement("div",{class:"ui input"},r.a.createElement("input",{onChange:n,id:"url-".concat(e.index),value:t&&t.url?t.url:""}))),r.a.createElement("div",{className:"space-internal"},r.a.createElement("label",{for:"headers",className:"ui horizontal label"}," headers "),r.a.createElement("textarea",{className:"styled-text-area",id:"headers-".concat(e.index),disabled:!0,value:t&&t.headers?JSON.stringify(t.headers):""})),r.a.createElement("div",{className:"space-internal"},r.a.createElement("label",{for:"method",className:"ui horizontal label"}," method "),r.a.createElement(v,{method:t&&t.method,index:e.index,onChangeFetchBody:n})),r.a.createElement("div",{className:"space-internal"},r.a.createElement("label",{for:"body",className:"ui horizontal label"}," body "),r.a.createElement("div",{class:"ui input"},r.a.createElement("input",{onChange:n,id:"body-".concat(e.index),value:t&&t.body?t.body:""}))),r.a.createElement("div",{className:"space-internal"},r.a.createElement("label",{className:"ui horizontal label"}," status of call "),r.a.createElement(O,{responseStaus:t.status})))});function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var N=Object(i.b)(function(e){return{diagnosticContent:e.diagnostic}},{uploadFiled:function(e){return{type:"UPLOAD_FILE",payload:e}},updateFetchBody:y,diagnosticHandler:function(e){return function(t){(function(e){var t=[];return Object.keys(e).map(function(t){return e[t]}).forEach(function(e){var a=e.method,n=e.headers,r=e.body,c=e.url,o=e.id;t.push(b(a,n,r,c,o))}),Promise.all(t).then(function(e){return e}).catch(console.error)})(e).then(function(e){return t({type:"DIAGNOSE_CALLS",payload:e})}).catch(function(e){return t(function(e){return{type:"ERROR",payload:{error:!0,data:e}}}(e))})}}})(function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),s=Object(m.a)(i,2),u=s[0],p=s[1],f=Object(n.useState)(!1),h=Object(m.a)(f,2),b=h[0],y=h[1],E=function(){var t=Object(d.a)(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.diagnosticHandler(e.diagnosticContent);case 2:o(!0),p(w({},u));case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",null,b?Object.keys(e.diagnosticContent).map(function(e,t){return r.a.createElement("div",{className:"ui grid"},r.a.createElement(g,{key:"idx-".concat(o),index:e,isDiagnosedCallView:c}))}):r.a.createElement("div",{className:"ui placeholder segment"},r.a.createElement("div",{class:"ui icon header"},r.a.createElement("i",{class:"file outline icon"}),"Please Upload Instructions"),r.a.createElement("div",{className:"ui primary button"},r.a.createElement("input",{id:"the-file-input",type:"file",onChange:function(t){var a=new FileReader;a.onloadend=function(t){return e.uploadFiled(a)},a.readAsText(t.target.files[0]),y(!0)}}))),b?r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{onClick:E,className:"ui primary button"},"Diagnose Calls"),r.a.createElement("button",{onClick:function(e){o(!1),y(!1)},className:"ui primary button"},"Reset")):null)});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=a(3),S=a(26),P=a(27),C=Object(x.combineReducers)({diagnostic:E}),D=Object(x.createStore)(C,Object(S.composeWithDevTools)(Object(x.applyMiddleware)(P.a)));o.a.render(r.a.createElement(i.a,{store:D},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.8823c0ed.chunk.js.map