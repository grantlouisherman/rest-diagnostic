(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(67)},31:function(e,t,a){},33:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),i=a.n(o),l=(a(31),a(4)),d=a.n(l),c=a(25),s=a(8),u=a(9),h=a(10),f=a(12),p=a(11),m=a(13),C=(a(33),function(e){return Object(n.useEffect)(function(){document.getElementById("".concat(e.method,"-").concat(e.index)||"GET-".concat(e.index)).selected=!0}),r.a.createElement("select",{id:"method"},r.a.createElement("option",{id:"GET-".concat(e.index)},"GET"),r.a.createElement("option",{id:"POST-".concat(e.index)},"POST"),r.a.createElement("option",{id:"PUT-".concat(e.index)},"PUT"))}),v=function(e){return r.a.createElement("div",{className:"fetchItem"},r.a.createElement("div",null,r.a.createElement("label",{for:"url"}," url "),r.a.createElement("input",{onChange:function(t){return e.addUrlPath(e.id,t.target.value)},id:"url-".concat(e.index),value:e.data.url?e.data.url:""})),r.a.createElement("div",null,r.a.createElement("label",{for:"headers"}," headers "),r.a.createElement("textarea",{value:JSON.stringify(e.data.headers)})),r.a.createElement("div",null,r.a.createElement("label",{for:"method"}," method "),r.a.createElement(C,{method:e.data.method,index:e.index})),r.a.createElement("div",null,r.a.createElement("label",{for:"body"}," body "),r.a.createElement("input",{onChange:function(t){return e.updateFetchBody(e.id,t.target.value)},id:"body-".concat(e.index),value:e.data.body?e.data.body:""})))},E=a(23),b=a.n(E),y=a(24),A=a.n(y),w=function(e){if(!Array.isArray(e))return e;var t={};return e.forEach(function(e){t=Object.assign({},t,e)}),t},g=function(){var e=Object(s.a)(d.a.mark(function e(t,a,n,r){var o,i,l,c,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o="POST"===t?JSON.stringify({query:n}):null,i={method:t,mode:"cors",headers:a,body:o},e.next=4,fetch(r,i);case 4:return l=e.sent,e.next=7,l.json();case 7:return c=e.sent,s=w(c),e.abrupt("return",{status:l.status,responseBody:s});case 10:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}(),L=function(e){return{id:e,headers:{},url:"",body:"",method:"GET"}},S=function(e){return b()(e,1e3)},P=function(e){var t=[];return Object.keys(e).map(function(t){return e[t]}).forEach(function(e){var a=e.method,n=e.headers,r=e.body,o=e.url;t.push(g(a,n,r,o))}),Promise.all(t).then(function(e){return e}).catch(console.error)},O=function(e){return A.a.load(e)},x=function(e){function t(){return Object(u.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.apiCalls);return r.a.createElement("div",null,t?t.map(function(t,a){return r.a.createElement(v,{key:a,index:a,data:e.props.apiCalls[t],addUrlPath:S(e.props.addUrlPath),updateFetchBody:S(e.props.updateFetchBody),addHeader:S(e.props.addHeader)})}):null,r.a.createElement("button",{onClick:this.props.runCallDiagnostic},"Diagnose Calls"))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(f.a)(this,Object(p.a)(t).call(this,e))).addNewApiCall=function(){var e=a.state,t=e.API_CALLS,n=e.idCounter;t[n]=L(n);var r=n+1;a.setState({API_CALLS:t,idCounter:r})},a.addUrlPath=function(e,t){var n=a.state.API_CALLS;n[e].url=t,a.setState({API_CALLS:n})},a.updateFetchBody=function(e,t){var n=a.state.API_CALLS;n[e].body=t,a.setState({API_CALLS:n})},a.addHeader=function(e,t){var n=a.state.API_CALLS;console.log(e,t);var r=JSON.stringify(t);n[e].headers=r,a.setState({API_CALLS:n})},a.runCallDiagnostic=Object(s.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(a.state.API_CALLS);case 2:t=e.sent,a.setState({diagnosedCalls:Object(c.a)({},t),showDiagnosedCallsView:!0});case 4:case"end":return e.stop()}},e)})),a.handleFileLoad=function(e){var t=a.state.fileReader.result,n=O(t),r=a.state.API_CALLS,o=a.state.idCounter;n.calls.forEach(function(e){e.id=o,r[o]=e,o++}),a.setState({API_CALLS:r,idCounter:o,uploadedFile:!0})},a.fileUpload=function(e){a.state.fileReader.onloadend=a.handleFileLoad,a.state.fileReader.readAsText(e.target.files[0])},a.showFileUpload=function(e){a.setState({showDiagnosedCallsView:!1,uploadedFile:!1,diagnosedCalls:{},API_CALLS:{}})},a.state={API_CALLS:{},idCounter:0,fileReader:new FileReader,uploadedFile:!1,diagnosedCalls:{},showDiagnosedCallsView:!1},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return this.state.showDiagnosedCallsView?r.a.createElement("div",null,r.a.createElement("textarea",{value:JSON.stringify(this.state.diagnosedCalls,void 0,4),cols:"50",rows:"25"}),r.a.createElement("button",{onClick:this.showFileUpload},"Reset")):r.a.createElement("div",null,this.state.uploadedFile?r.a.createElement(x,{apiCalls:this.state.API_CALLS,addNewApiCall:this.addNewApiCall,addUrlPath:this.addUrlPath,updateFetchBody:this.updateFetchBody,addHeader:this.addHeader,runCallDiagnostic:this.runCallDiagnostic}):r.a.createElement("input",{id:"the-file-input",type:"file",onChange:this.fileUpload}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.cd4de01f.chunk.js.map